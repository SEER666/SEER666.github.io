<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>HierFedPDP：基于个性化差分隐私的分层联邦学习-论文阅读 | SEER's Study</title><meta name="author" content="SEER"><meta name="copyright" content="SEER"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="window.MathJax &#x3D; {     tex: {       inlineMath: [[&#39;$&#39;, &#39;$&#39;], [&#39;\\(&#39;, &#39;\\)&#39;]],         displayMath: [[&#39;$$&#39;, &#39;$$&#39;], [&#39;\\[&#39;, &#39;\\]&#39;]]       }   };     HierFedPDP:Hierarchical federated learning with pe">
<meta property="og:type" content="article">
<meta property="og:title" content="HierFedPDP：基于个性化差分隐私的分层联邦学习-论文阅读">
<meta property="og:url" content="https://seer666.github.io/2024/10/30/202410301/index.html">
<meta property="og:site_name" content="SEER&#39;s Study">
<meta property="og:description" content="window.MathJax &#x3D; {     tex: {       inlineMath: [[&#39;$&#39;, &#39;$&#39;], [&#39;\\(&#39;, &#39;\\)&#39;]],         displayMath: [[&#39;$$&#39;, &#39;$$&#39;], [&#39;\\[&#39;, &#39;\\]&#39;]]       }   };     HierFedPDP:Hierarchical federated learning with pe">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg">
<meta property="article:published_time" content="2024-10-30T07:35:00.000Z">
<meta property="article:modified_time" content="2024-10-30T07:38:25.345Z">
<meta property="article:author" content="SEER">
<meta property="article:tag" content="论文">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><link rel="shortcut icon" href="https://avatars.githubusercontent.com/u/126209991?v=4"><link rel="canonical" href="https://seer666.github.io/2024/10/30/202410301/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=5.1.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.6.0/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        if (name && globalFn[key][name]) return
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'HierFedPDP：基于个性化差分隐私的分层联邦学习-论文阅读',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-10-30 15:38:25'
}</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><a href="https://github.com/SEER666" target="_blank"> <img src="https://avatars.githubusercontent.com/u/126209991?v=4" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></a></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">26</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">6</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我们</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src="https://avatars.githubusercontent.com/u/126209991?v=4" alt="Logo"><span class="site-name">SEER's Study</span></a><a class="nav-page-title" href="/"><span class="site-name">HierFedPDP：基于个性化差分隐私的分层联邦学习-论文阅读</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我们</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">HierFedPDP：基于个性化差分隐私的分层联邦学习-论文阅读</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-10-30T07:35:00.000Z" title="发表于 2024-10-30 15:35:00">2024-10-30</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-10-30T07:38:25.345Z" title="更新于 2024-10-30 15:38:25">2024-10-30</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><script>
  window.MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],  
      displayMath: [['$$', '$$'], ['\\[', '\\]']]  
    }
  };
</script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>


<h1 id="HierFedPDP-Hierarchical-federated-learning-with-personalized-differential-privacy（HierFedPDP：基于个性化差分隐私的分层联邦学习）"><a href="#HierFedPDP-Hierarchical-federated-learning-with-personalized-differential-privacy（HierFedPDP：基于个性化差分隐私的分层联邦学习）" class="headerlink" title="HierFedPDP:Hierarchical federated learning with personalized differential privacy（HierFedPDP：基于个性化差分隐私的分层联邦学习）"></a>HierFedPDP:Hierarchical federated learning with personalized differential privacy（HierFedPDP：基于个性化差分隐私的分层联邦学习）</h1><h2 id="1-摘要"><a href="#1-摘要" class="headerlink" title="1.摘要"></a>1.摘要</h2><p>HierFedPDP 是一种新型的联邦学习（FL）框架，通过在客户端级别实现个性化本地差分隐私（LDP）机制，根据<strong>数据的敏感性</strong>动态调整隐私预算，从而提供灵活且高效的隐私保护。该框架采用三层<strong>客户端-边缘-云架构</strong>，充分利用边缘计算来缓解中央服务器的计算负载。实验结果表明，与现有的模型相比，HierFedPDP 在MNIST数据集上表现出0.84%至2.36%的精度提升，在CIFAR-10数据集上也取得了显著的改进。HierFedPDP 的研究为更高效的分布式学习系统的设计提供了宝贵的见解。</p>
<h2 id="2-介绍"><a href="#2-介绍" class="headerlink" title="2.介绍"></a>2.介绍</h2><p>在大数据时代，人工智能被广泛应用于交通、农业、医疗等领域。<strong>物联网（IoT）技术</strong>的快速发展增加了分布式系统中安全数据挖掘的需求。作为一种领先的AI技术，深度学习在图像处理、自然语言处理和视频分析方面表现出色，解决了许多复杂问题。随着机器学习技术的进步和数据处理需求的增加，数据隐私保护在学术界和工业界变得至关重要。传统的集中式学习方法通常需要收集大量的用户数据，这会带来隐私风险，突显了安全数据处理的必要性。</p>
<p>为了应对这些问题，谷歌在2017年提出了联邦学习（FL）和联邦平均算法。FL通过允许客户端在本地处理数据，并仅共享模型参数以进行服务器聚合来保护隐私。这种方法避免了服务器直接访问敏感数据，从而增强了隐私保护。<strong>联邦平均算法</strong>允许本地设备在全局共享模型上进行多轮训练，然后再更新服务器。这不仅保护了隐私，还支持跨越不同设备和位置的数据共享，增强了模型的适用性和通用性。</p>
<p>尽管FL在多个业务场景中得到了广泛采用，但仍然面临<strong>部分数据隐私、效率限制和数据异构性等挑战</strong>，这些挑战影响了其有效性和可扩展性。因此，探索和开发更加复杂且安全的联邦学习解决方案显得尤为重要。</p>
<p>为了解决这些问题，HierFedPDP 采用了三层架构，将参与者划分为三层：客户端、边缘服务器和云服务器。这种多层结构不仅增强了<strong>数据处理和模型训练</strong>的管理，还提高了数据隐私保护。在边缘层，<strong>预聚合技术</strong>显著减少了传输到云的敏感数据量，从而降低了隐私泄露的风险。</p>
<p>该框架在三层系统内实现了一种<strong>个性化本地差分隐私机制</strong>，能够根据客户端数据的敏感性动态调整隐私预算，从而提供量身定制的隐私保护。HierFedPDP 框架不仅强化了隐私保护，还提升了模型的准确性。特别是在MNIST数据集上的实验结果表明，HierFedPDP 的准确率提升了0.84%至2.36%，在CIFAR-10数据集上也取得了显著的改进。这项研究为提高FL在数据隐私保护方面的能力提供了宝贵的见解，并为设计更高效的分布式学习系统提供了参考。</p>
<h2 id="3-相关工作"><a href="#3-相关工作" class="headerlink" title="3.相关工作"></a>3.相关工作</h2><p>为了应对联邦学习 (FL) 中的安全挑战，研究人员探索了各种防御策略。目前，FL 中常见的隐私保护方法包括将经典的机器学习隐私技术集成到 FL 中，这些技术包括<strong>安全多方计算 (SMC)<strong>、</strong>同态加密和差分隐私</strong>。SMC 是一种密码学技术，允许多个方共同计算任务，同时保持其输入数据的私密性。Lehmkuhl 等人开发了一种<strong>新的模型提取攻击</strong>，展示了<strong>恶意客户端对半诚实安全推理协议</strong>构成的威胁，并提出了 <strong>MUSE</strong>，这是一种有效的针对恶意客户端的两方安全推理协议。在文献中，介绍了一种基于<strong>SMC</strong>和差分隐私的新的 FL 方案，旨在防止在学习过程中发生的数据推断和输出推断，同时保护用户的本地数据，并确保用户退出后的结果正确性。SMC 通常要求多个方进行在线交互，这可能会导致高通信成本，特别是当参与方数量增加或覆盖大面积地理区域时。相比之下，<strong>同态加密允许在加密数据上</strong>直接进行计算，无需多方交互，从而在某些情况下提供了更高的效率和更好的可扩展性。Li 等人提出了一种适合于<strong>雾-云计算环境的安全和隐私保护分布式深度学习 (SPDDL) 方案</strong>，<strong>利用 Paillier 加密算法</strong>来加密中间梯度信息，并使用<strong>门限签名技术</strong>验证用户身份。Rupa 及其同事介绍了一种<strong>基于矩阵变换的同态加密技术</strong>，通过对 ASCII 值的二进制表示进行移位、旋转和置换来确保云中数据的安全。</p>
<p>虽然同态加密是一种强大的密码学工具，但它会引入显著的额外通信开销并增加加密数据的大小，从而提高存储和传输成本。因此，还必须探索其他强大的聚合技术来增强对抗性攻击的安全性。文献中描述的“鲁棒联邦聚合”方法使用<strong>几何中值</strong>来聚合更新，在数据可能被破坏的环境中显著提高了鲁棒性。这种方法在高度污染的环境中展示了优越的性能，显示出其抵御攻击的潜力。相比之下，差分隐私因其卓越的信息保护能力、算法的简单性和灵活性以及较低的系统开销而受到学术界和工业界的高度推崇。特别是在处理大型数据集时，差分隐私通过添加<strong>最小的噪声</strong>提供高水平的隐私保护，这在当前的数据安全格局中显得尤为重要。</p>
<p>现有的基于差分隐私的机器学习算法的研究包括本地差分隐私、差分隐私随机梯度下降以及用于差分隐私参数更新的算法。在 LDP 中，每个客户端本地更新并扰动模型信息，发送参数或梯度而不是原始数据到服务器。在文献中，作者提出了一种创新的差分隐私聚合方案，该方案采用了更为详细的<strong>分层更新策略</strong>，并首次将<strong>f-差分隐私 (f-DP) 技术</strong>应用于联邦聚合的隐私保护分析。通过向模型更新中引入高斯噪声，该方案成功保护了客户端隐私。文献提出了一种基于 LDP 技术的隐私保护边缘联邦学习框架 (PPeFL)。该框架通过<strong>三种 LDP 机制</strong>应对隐私预算的快速消耗和高通信成本，并通过数据扰动机制加强了隐私保护与数据效用之间的平衡。文献中引入了 <strong>FL2DP</strong>，这是一种优先保护数据隐私和客户端身份的方案，通过结合指数机制的噪声添加和新的梯度混淆机制，增强了训练效率和梯度的不可追踪性。文献提出了一种适用于<strong>资源受限的网络-物理系统 (CPS) 的联邦 LDP 方案 Fed-MPS</strong>，该方案采用一致更新方向的模型参数选择算法和 LDP 机制，旨在降低通信成本、增强客户端隐私保护并提高模型准确性。文献介绍了一种新的<strong>差分隐私 FL 算法 DP-FedSAM</strong>。通过集成一种对稳态变化敏感的<strong>最小化 (SAM) 优化器</strong>，该算法生成了具有更好稳定性和对权重扰动更强鲁棒性的本地平滑模型，从而减轻了差分隐私的负面影响。文献提出了<strong>Fed-IIoT</strong>，这是一种用于检测工业物联网 (IIoT) 环境中 Android 恶意软件的联邦学习架构。通过集成 GAN 和 A3GAN 网络，<strong>Fed-IIoT</strong> 提高了数据隐私和准确性，相比现有解决方案提高了约 8%。文献中，作者提出了一种联邦学习框架，旨在通过使用<strong>超分位目标</strong>优化异构数据客户端的预测性能。有效性通过结合差分隐私和联邦平均的随机训练算法得到证明，该框架在<strong>尾部误差统计</strong>方面优于传统方法。文献中，作者提出了一种通过精心设计的<strong>高斯噪声</strong>实现的差分隐私持续计数方法，以实现接近最优的效用。该方法结合<strong>流式托普利兹矩阵乘法和二叉树机制</strong>，减少了空间和时间复杂度，从而提高了计数效率。文献中提出了一种新的<strong>差分隐私联邦学习去噪方法 (DDPFL)<strong>。通过分析模型参数的</strong>重要性系数</strong>并采用差异化噪声添加机制，该方法减少了模型可用性的损失。实验表明，在相同的差分隐私条件下，与以前的差分隐私保护方法相比，该方法有效地提高了模型的可用性。</p>
<p>综上所述，文献回顾了联邦学习 (FL) 环境中的数据隐私保护问题，同时保持了有效的机器学习。大多数研究使用**固定的隐私预算参数 (𝜖)**来确保所有数据或查询的统一隐私。然而，这种“一刀切”的策略可能不适合每个用户独特的数据敏感度需求。此外，研究表明，这些方法可能会降低模型的效用并增加对梯度泄漏攻击的易感性。</p>
<p>我们在前述相关工作回顾中观察到，旨在保护数据的差分隐私增强的机器学习算法有多项进展。尽管这些算法努力在隐私和性能之间取得平衡，但它们在实现、优势和限制方面存在显著差异。我们在表 1 中汇总了主要研究，以比较最近的提案，重点介绍它们的技术、贡献、优势以及它们与我们工作的不同之处。</p>
<h2 id="4-背景和动机"><a href="#4-背景和动机" class="headerlink" title="4.背景和动机"></a>4.背景和动机</h2><h3 id="4-1-分层联邦学习框架"><a href="#4-1-分层联邦学习框架" class="headerlink" title="4.1 分层联邦学习框架"></a>4.1 分层联邦学习框架</h3><p>传统的联邦学习（FL）架构包含一个中央参数服务器，该服务器直接与 $( N )$ 个客户端进行协调。训练过程包括多个回合：服务器将初始或更新后的全局模型分发给每个客户端；客户端使用其本地数据独立训练该模型，然后将模型更新发送回服务器进行聚合。这个循环重复进行，直到模型收敛或完成预定的训练轮数。</p>
<p>在本研究中，我们引入了一个名为 <strong>HierFedPDP</strong> 的创新联邦学习框架，旨在为受诚实但好奇的行为者威胁的环境中提供有效的隐私保护。与传统的两层 FL 架构（包含一个中央参数服务器和多个客户端）不同，<strong>HierFedPDP</strong> 引入了一个中间的边缘服务器层，以提高通信、计算效率和隐私保护。接下来，我们将详细解释 <strong>HierFedPDP</strong> 框架的各个层级和功能。</p>
<ul>
<li><p><strong>三层系统</strong>: <strong>HierFedPDP</strong> 框架通过引入一个分层的客户端-边缘-云系统来增强传统模型。在这里，除了中央参数服务器外，还有 ( L ) 个边缘服务器作为服务器与 ( N ) 个客户端之间的中介。</p>
</li>
<li><p><strong>边缘服务器的作用</strong>: 在 <strong>HierFedPDP</strong> 框架中，边缘服务器不仅充当数据传输的中介，还在数据预处理和聚合中发挥重要作用。每个边缘服务器负责收集其关联客户端的模型更新，并执行初步的数据聚合和过滤任务。该过程显著减少了传输到云端的数据量，从而增强了数据传输的安全性。</p>
</li>
<li><p><strong>本地数据处理</strong>: 每个客户端 $( C_i ) $拥有一个本地数据集 $( D_i )$，模型的训练数据由 $( |D| ) $个样本组成，每个样本包括一个输入 $( x_k )$ 和其对应的标签 $( y_k )$。每个客户端使用其数据集训练本地模型参数向量$ ( w_i )$。</p>
</li>
<li><p><strong>损失函数与优化</strong>: 每个客户端的本地损失函数 $( F_i(w, D_i) ) $用于衡量每个样本的预测值与实际值之间的差异，目标是最小化此损失。全局优化问题旨在找到一个权重向量$ ( w^* ) $以最小化所有客户端的聚合损失。该优化问题可以表示为：</p>
<p>$$<br>w^* &#x3D; \arg\min \sum_{i&#x3D;1}^N p_i F_i(w, D_i)<br>$$</p>
<p>其中，$( F_i(\cdot) )$ 表示第 $( i ) $个客户端的本地损失函数。通过 $( T ) $次聚合轮次，服务器最终获得 FL 收敛模型。</p>
</li>
<li><p><strong>隐私与效率</strong>: 通过在数据到达云端之前在边缘服务器上预处理，<strong>HierFedPDP</strong> 框架显著减少了传输的敏感数据量，并更有效地聚合了更新，降低了隐私泄露的风险。该结构还减轻了中央服务器的负担，并降低了通信开销，这在带宽受限的场景或隐私敏感的应用中至关重要。</p>
</li>
</ul>
<h3 id="4-2-差分隐私"><a href="#4-2-差分隐私" class="headerlink" title="4.2 差分隐私"></a>4.2 差分隐私</h3><p>随着数据分析和机器学习应用的日益重视，差分隐私可以在需要处理敏感数据的情况下提供强有力的数据隐私保护，例如医疗记录分析和人口普查。</p>
<ul>
<li><p><strong>定义1（邻接数据集）</strong>: 设 $( D_n )$ 为所有数据集的域。存在两个数据集 $( D, D’ )$，如果 $( D, D’ )$ 满足以下任一条件，则它们被视为相邻数据集：</p>
<ol>
<li>添加或删除记录：$( D’ )$ 可以通过在 $( D )$ 中添加或删除记录获得。</li>
<li>修改记录：$( D’ )$ 可以通过修改 $( D )$ 中的记录获得。</li>
</ol>
</li>
<li><p><strong>定义2（差分隐私）</strong>: 给定一个随机算法 $( M )$，如果对于所有相邻数据集$ ( D, D’ )$ 和算法 $( M )$ 的所有可能输出集合 $( S )$，以下不等式成立，则称算法 $( M )$ 提供 $( \epsilon )-$差分隐私保护：</p>
<p>$$<br>\Pr[M(D) \in S] \leq e^\epsilon \times \Pr[M(D’) \in S]<br>$$</p>
<p>其中，$( \Pr[M(D) \in S] ) $表示将算法$ ( M )$ 应用于数据集 $( D )$ 时，结果在集合$ ( S ) $中的概率；参数$ ( \epsilon ) $是一个非负参数，称为隐私预算，用于度量隐私保护的强度。$( \epsilon ) $越小，隐私保护越强。</p>
</li>
</ul>
<h3 id="4-3-威胁模型"><a href="#4-3-威胁模型" class="headerlink" title="4.3 威胁模型"></a>4.3 威胁模型</h3><p>在 <strong>HierFedPDP</strong> 联邦学习系统中，尽管原始数据保持本地存储且不共享，但上传的模型更新仍容易受到<strong>推断攻击（如模型反演和成员身份推断）</strong>的威胁。我们使用一个公认的<strong>半诚实威胁模型</strong>来应对这些威胁，即在此模型中，尽管服务器和客户端遵循协议，但由于好奇心可能会试图获取额外的信息。</p>
<h3 id="4-4-动机"><a href="#4-4-动机" class="headerlink" title="4.4 动机"></a>4.4 动机</h3><p><strong>HierFedPDP</strong> 框架旨在通过在客户端级别实施个性化的本地差分隐私机制来增强联邦学习（FL）环境中的隐私保护。这种方法对于 FL 来说尤为重要，因为每个客户端的本地模型都会对全局模型做出贡献，而无需直接共享数据。</p>
<h2 id="5-提出的方法"><a href="#5-提出的方法" class="headerlink" title="5. 提出的方法"></a>5. 提出的方法</h2><h3 id="5-1-系统模型"><a href="#5-1-系统模型" class="headerlink" title="5.1 系统模型"></a>5.1 系统模型</h3><p>HierFedPDP框架的系统模型如图所示，展示了包含三个核心实体的三层结构：客户端、边缘参数服务器和中央参数服务器。HierFedPDP框架基于客户端-边缘-云的分层联邦学习架构，旨在通过在客户端级别实施个性化本地差分隐私措施来增强数据保护。在HierFedPDP的设计中，每个客户端根据其数据的敏感性分配不同的隐私预算，从而实现个性化的数据隐私保护。总体的操作流程如下：</p>
<ol>
<li>在HierFedPDP框架的启动阶段，本地客户端首先从中央或边缘服务器检索最新的全局模型，或者从上一轮迭代中获取的全局模型更新作为训练的起点；</li>
<li>客户端基于其数据独立训练模型，生成新的模型更新。为了保护数据隐私，客户端通过应用个性化的本地差分隐私机制增强隐私保护，并根据设定的隐私预算进行调整；</li>
<li>受保护的模型更新被上传到边缘参数服务器。一旦达到预定义的阈值，边缘服务器开始聚合这些客户端模型。完成聚合操作并达到一定的迭代次数后，边缘服务器将聚合的参数更新上传到中央服务器；</li>
<li>中央服务器进一步聚合这些更新，以形成下一轮的全局模型更新，同时控制整个系统的隐私预算，以符合隐私保护标准。</li>
</ol>
<p>这一过程不仅保护数据隐私，还增强了模型训练的效率和准确性，展示了一种面向隐私保护的新型联邦学习解决方案。</p>
<h3 id="5-2-算法描述"><a href="#5-2-算法描述" class="headerlink" title="5.2 算法描述"></a>5.2 算法描述</h3><p>表2中显示了描述HierFedPDP框架算法中使用的符号及其定义。</p>
<h3 id="5-2-1-整体过程"><a href="#5-2-1-整体过程" class="headerlink" title="5.2.1 整体过程"></a>5.2.1 整体过程</h3><p><strong>算法1</strong>详细说明了个性化本地差分隐私保护的分层联邦学习的综合执行过程，涉及不同级别的参与者，包括客户端、边缘参数服务器和中央参数服务器。该算法采用个性化本地差分隐私技术来保护数据。</p>
<ol>
<li><p><strong>初始化阶段</strong>：初始化全局模型$ ( w_0 ) $和隐私账户。此阶段主要包括设置全局模型和隐私账户，为后续的全局迭代建立基础框架。</p>
</li>
<li><p><strong>全局迭代循环</strong>：系统将执行“$( k )$”轮全局迭代。每轮开始时，首先在服务器和客户端上计算隐私损失，以确保整个过程符合设定的隐私预算（算法第3-4行）。如果预算超过预定的限额，则会中断流程并返回当前模型状态，以确保不违反隐私保护的界限。如果隐私预算在合理范围内，则客户端将同时执行个性化本地差分隐私更新（见算法2），将全局模型训练与本地数据集成，同时实施隐私保护措施。在客户端完成本地更新后，边缘节点将执行聚合操作。每个边缘服务器使用“EdgeAggregation”函数将其从属客户端的更新进行整合，实现分层架构内的初步聚合。完成边缘聚合后，“CloudAggregation”函数将在中央服务器级别进行最终的更新聚合，从而生成全局模型更新。</p>
</li>
<li><p><strong>边缘聚合函数</strong>：‘EdgeAggregation’函数通过公式(6)计算每个边缘节点的聚合权重，优化信息汇总过程。</p>
<p>$$<br>w_{\text{edge}} \leftarrow \sum_{i \in \mathcal{L}} \frac{|D_i^{\mathcal{L}}|}{|\mathcal{L}|} w_i^{\mathcal{L}}(k)<br>$$</p>
<p>其中，$(|D_i^{\mathcal{L}}|) $表示第$ ( i ) $个客户端在第$ ( l ) $个边缘服务器上的数据量。公式(6)中，每个客户端的权重由数据集的大小决定。这一步骤在HierFedPDP框架中对于构建更准确且个性化的全局模型至关重要。</p>
</li>
<li><p><strong>云聚合函数</strong>：‘CloudAggregation’函数使用公式(7)来确定中央参数服务器上全局模型聚合的权重，实现信息的最终整合与优化。</p>
<p>$$<br>w_{\text{global}} \leftarrow \sum_{l&#x3D;1}^L \frac{|D^{\mathcal{L}}|}{|\mathcal{L}|} w^{\mathcal{L}}(k)<br>$$</p>
<p>该公式中，全球模型通过平均各个边缘服务器的模型权重来实现更新。</p>
</li>
</ol>
<h4 id="5-2-2-个性化本地差分隐私更新"><a href="#5-2-2-个性化本地差分隐私更新" class="headerlink" title="5.2.2 个性化本地差分隐私更新"></a>5.2.2 个性化本地差分隐私更新</h4><p><strong>算法2</strong>提供了个性化本地差分隐私更新（PLDPU）的详细描述。该算法从预设参数的输入开始，然后每个客户端初始化其模型参数。在指定的本地训练周期内，每个周期对数据批次进行一系列操作。</p>
<ol>
<li><p>输入：输入参数包括学习率 $(\eta)$、模型参数（model）、隐私参数$ (\epsilon)$、批次大小$（batch_size）$和隐私预算$（privacy_budget）$。</p>
</li>
<li><p>并行初始化：对于每个客户端 $( i )$，本地模型参数在并行中初始化。</p>
</li>
<li><p>本地训练周期和批次梯度更新：每个客户端将执行$ ( E ) $轮训练迭代。每个批次$ ( b \in \beta )$ 执行如下步骤。</p>
</li>
<li><p>计算梯度并更新权重：使用公式(9)更新模型参数以最小化损失函数：</p>
<p>$$<br>w_i^{\mathcal{L}}(k) \leftarrow w_i^{\mathcal{L}}(k - 1) - \eta \nabla F_i\left(w_i^{\mathcal{L}}(k - 1)\right)<br>$$</p>
<p>该过程多次迭代以提高模型预测的准确性。</p>
</li>
<li><p>使用Adam优化器：Adam优化器通过调整学习率来加快训练速度。</p>
</li>
<li><p>计算个性化噪声：根据每个客户端的隐私预算和数据敏感性计算要添加的噪声量。</p>
</li>
<li><p>添加高斯噪声：向本地模型参数添加高斯噪声。</p>
</li>
</ol>
<h3 id="5-2-3-隐私分析与理论证明"><a href="#5-2-3-隐私分析与理论证明" class="headerlink" title="5.2.3 隐私分析与理论证明"></a>5.2.3 隐私分析与理论证明</h3><p>本节提供HierFedPDP方法的隐私保护分析。我们证明，HierFedPDP通过为每个客户端分配个性化的本地差分隐私预算，并结合高斯噪声机制，达到了差分隐私的保证。</p>
<ul>
<li><p><strong>定理1（隐私预算累积）</strong>：对于每个客户端 $( i )$，在HierFedPDP框架中，假设全局训练轮次为$ ( k )$，则HierFedPDP的总体隐私预算可以表示为：</p>
<p>$$<br>\epsilon_{\text{total}} &#x3D; \sqrt{k} \cdot \max_{i} \epsilon_{i}<br>$$</p>
<p>其中，$( \epsilon_{i} ) $表示客户端 $( i )$ 在一次全局迭代中的个性化隐私预算。通过该公式，我们可以看到HierFedPDP的方法在多轮次训练过程中如何累积隐私预算，从而确保对整体隐私的控制。</p>
</li>
<li><p><strong>证明过程</strong>：通过分析每个客户端和边缘节点的个性化隐私预算累积，我们能够计算并验证整体系统的隐私预算累积效果，确保HierFedPDP满足差分隐私的定义。</p>
</li>
</ul>
<h2 id="6-实验工作与结果"><a href="#6-实验工作与结果" class="headerlink" title="6.实验工作与结果"></a>6.实验工作与结果</h2><p>在本节中，我们将使用标准的MNIST和CIFAR-10数据集，对HierFedPDP框架的性能进行全面评估。</p>
<h3 id="6-1-实验设置"><a href="#6-1-实验设置" class="headerlink" title="6.1 实验设置"></a>6.1 实验设置</h3><h4 id="6-1-1-仿真环境"><a href="#6-1-1-仿真环境" class="headerlink" title="6.1.1 仿真环境"></a>6.1.1 仿真环境</h4><p>硬件环境包括第13代Intel(R) Core(TM) i5-13500H CPU、NVIDIA GeForce RTX 4050笔记本GPU，以及16GB内存。操作系统为64位Windows系统，深度学习框架使用PyTorch 2.1.0，以便训练机器学习模型并添加个性化的本地差分隐私噪声。</p>
<p>为了开展实验，我们搭建了一个由100个客户端、5个边缘服务器和一个中心参数服务器组成的分层联邦学习系统。为确保实验的公平性和一致性，每个边缘服务器管理相同数量的客户端，每个客户端分配相同数量的训练数据。</p>
<h4 id="6-1-2-数据集"><a href="#6-1-2-数据集" class="headerlink" title="6.1.2 数据集"></a>6.1.2 数据集</h4><p>我们使用经典的MNIST手写数字识别数据集和CIFAR-10数据集来评估HierFedPDP框架的性能。MNIST数据集包括60,000个训练样本和10,000个测试样本，每个样本为28 × 28像素的灰度图像，且标签明确，非常适合作为基准。此外，CIFAR-10包含60,000个32 × 32像素的彩色图像，分为10类，每类6000张图像，其中提供50,000张训练图像和10,000张测试图像，可用于评估更复杂的图像识别场景。</p>
<h4 id="6-1-3-基线算法"><a href="#6-1-3-基线算法" class="headerlink" title="6.1.3 基线算法"></a>6.1.3 基线算法</h4><p>(1) FedAvg: FedAvg 是一种标准的联邦学习方法，通过平均本地模型的更新来实现全局模型的更新。这种方法能够在不暴露原始数据的情况下进行模型训练。</p>
<p>(2) DP-SGD: DP-SGD 是一种将差分隐私保护融入深度学习训练的技术。它通过在梯度更新中添加随机噪声，并采用所谓的“隐私会计”方法来紧密监控和控制隐私损失，从而在保证数据隐私的同时维持模型性能。</p>
<p>(3) LDP-FL: LDP-FL 是一种创新的本地差分隐私（LDP）算法，旨在通过在数据所有者端进行随机化处理，重塑深度学习训练过程。它确保在数据离开设备之前实现隐私保护，防止数据在传输至潜在的不可信机器学习服务时泄露。</p>
<p>(4) UDP-FL: UDP-FL 是一种基于本地差分隐私（LDP）的用户级差分隐私（UDP）算法。该算法通过在上传前向共享模型添加人工噪声来增强联邦学习中的隐私保护。此外，UDP通过维持固定的隐私预算来确保每轮全局通信中的本地数据隐私。</p>
<p>(5) PPFL: PPFL 结合了本地和中心差分隐私，通过在客户端和服务器级别添加噪声来增强联邦学习。它结合了稀疏梯度和动量梯度下降，改善了准确性并减少了通信开销。这种方法在联邦学习系统中优化了隐私保护和效率。</p>
<p>(6) AGC-DP: AGC-DP 是一种通过自适应高斯裁剪动态调整噪声的差分隐私方法，在联邦学习中优化隐私和准确性。它基于超参数调整噪声，采用动态采样和改进的隐私损失计算，提供了一种个性化的隐私保护方法。</p>
<h4 id="6-1-4-模型结构"><a href="#6-1-4-模型结构" class="headerlink" title="6.1.4 模型结构"></a>6.1.4 模型结构</h4><p>为了模拟联邦学习场景，我们使用了一个卷积神经网络（CNN），该网络由两个5 × 5的卷积层、两个2 × 2的池化层、一个Dropout层、两个全连接层和在每个卷积层和第一个全连接层之后的ReLU激活函数组成，最后是输出层。该网络结构旨在密切模拟真实的联邦学习环境，确保实验结果的有效性和可靠性。</p>
<h3 id="6-2-结果"><a href="#6-2-结果" class="headerlink" title="6.2 结果"></a>6.2 结果</h3><h4 id="6-2-1-与现有方法的比较"><a href="#6-2-1-与现有方法的比较" class="headerlink" title="6.2.1 与现有方法的比较"></a>6.2.1 与现有方法的比较</h4><p>在表3中，我们对HierFedPDP与一系列经典和新评估的算法（如FedAvg、DP-SGD、LDP-FL、UDP-FL、AGC-DP 和PPFL）的准确性进行了综合比较分析。该比较考虑了包括客户端总数、学习率、每轮选定用户比例以及模型准确性等参数。</p>
<p>尽管非隐私的FedAvg算法达到了最高的99.22%的准确性，但它缺乏隐私保护，因此在需要保密性的联邦学习场景中不太合适。在隐私参数为0.5、2和8时，DP-SGD（GDP算法的一个变体）表现出了稳健的性能，但它依赖于可信的服务器。LDP-FL在不同的$\epsilon$设置下，准确率分别为89.49%、91.17%和94.76%，显示了其在各种隐私预算下的适应性。然而，它需要在所有客户端之间保持统一的隐私预算，这可能限制了那些愿意容忍较低隐私的客户端的贡献。</p>
<p>UDP-FL算法在$\epsilon$为4、8和12的情况下，分别达到了87.30%、88.98%和89.69%的准确率，这表明其对隐私保护有良好的适应性，但在较小的客户端组（如50个客户端）中表现有限。</p>
<p>AGC-DP在严格的隐私约束下有效运行，在$\epsilon$分别为0.1、1.5和8的情况下，达到了86.79%、87.62%和90.19%的准确率，特别是在较低的$\epsilon$水平下表现出隐私与性能之间的权衡。</p>
<p>HierFedPDP在不同的隐私设置下表现出色，在$\epsilon$分别为0.5、2和8时，准确率分别达到了90.84%、93.53%和96.16%，几乎与非隐私基准持平，且无需依赖可信服务器。</p>
<h4 id="6-2-2-模型准确性与隐私预算的关系"><a href="#6-2-2-模型准确性与隐私预算的关系" class="headerlink" title="6.2.2 模型准确性与隐私预算的关系"></a>6.2.2 模型准确性与隐私预算的关系</h4><p>为了深入分析HierFedPDP的性能，我们考察了模型准确性随隐私预算变化的趋势。图4显示了在MNIST和CIFAR-10数据集上，不同算法在不同隐私预算（$(\epsilon)$）条件下的表现。我们可以观察到，随着$(\epsilon)$值的增加，所有算法的准确性逐渐提升，但增长的速率和最终的准确性存在明显的差异。</p>
<p>对于MNIST数据集，随着$(\epsilon)$从0.5增加到8，HierFedPDP的准确性从90.84%稳步上升到96.16%，展示了其在隐私保护和数据效用之间取得的良好平衡。相比之下，LDP-FL和UDP-FL的准确性在较低的$(\epsilon)$值时略显不足，但随着隐私预算的增加，它们的准确性也显著提升。对于DP-SGD，虽然在低$(\epsilon)$值下其表现稍逊，但在较大的$(\epsilon)$设置下，它的准确性接近HierFedPDP。</p>
<p>对于CIFAR-10数据集，HierFedPDP在不同隐私预算条件下均表现出了稳定且优越的准确性。尤其在$(\epsilon &#x3D; 8)$的设置下，HierFedPDP的准确性达到了80.92%，比UDP-FL和LDP-FL高出近2个百分点。</p>
<h4 id="6-2-3-训练轮次与聚合策略的影响"><a href="#6-2-3-训练轮次与聚合策略的影响" class="headerlink" title="6.2.3 训练轮次与聚合策略的影响"></a>6.2.3 训练轮次与聚合策略的影响</h4><p>在HierFedPDP中，采用了三层结构的聚合策略来优化训练过程中的隐私保护和通信开销。为了评估这种策略的效果，我们分析了在不同训练轮次下，HierFedPDP在MNIST和CIFAR-10数据集上的表现。图5展示了在不同全局轮次下的模型准确性变化情况。</p>
<p>对于MNIST数据集，随着全局轮次的增加，HierFedPDP的准确性稳定提升，并在50轮之后达到了最高点。此外，在CIFAR-10数据集上，随着训练轮次的增加，HierFedPDP的准确性从最初的63.42%逐渐上升到第50轮后的80.92%。</p>
<h4 id="6-2-4-通信开销分析"><a href="#6-2-4-通信开销分析" class="headerlink" title="6.2.4 通信开销分析"></a>6.2.4 通信开销分析</h4><p>HierFedPDP的分层架构显著减少了数据传输和通信开销。在表4中，我们比较了HierFedPDP与其他算法在训练期间的通信成本。结果表明，与LDP-FL和DP-SGD等基线算法相比，HierFedPDP通过引入边缘服务器实现了更高效的更新传输和聚合，从而显著降低了全局通信的总成本。</p>
<h3 id="6-3-讨论"><a href="#6-3-讨论" class="headerlink" title="6.3 讨论"></a>6.3 讨论</h3><p>通过以上实验，我们可以得出以下结论：</p>
<ol>
<li><strong>隐私与准确性的平衡</strong>：在保持较强隐私保护（较小的(\epsilon)）的情况下，HierFedPDP的准确性几乎与非隐私的FedAvg相当，展示了其在隐私和数据效用之间的良好权衡。</li>
<li><strong>分层结构的优势</strong>：HierFedPDP采用的三层客户端-边缘-云架构显著提高了通信效率，并增强了对敏感数据的保护。</li>
<li><strong>个性化隐私保护</strong>：与传统的单一隐私预算策略不同，HierFedPDP允许每个客户端根据其数据的敏感性动态调整隐私预算，从而提高了模型的灵活性和个性化。</li>
</ol>
<p>总之，HierFedPDP框架为分层联邦学习中的隐私保护提供了一个新的视角，不仅实现了高效的隐私保护，还在数据异构的情况下提高了模型的准确性和稳定性。</p>
<h2 id="7-结论"><a href="#7-结论" class="headerlink" title="7.结论"></a>7.结论</h2><p>在本研究中，我们探讨了如何在保护用户隐私的前提下实现分布式机器学习，并提出了一种创新的联邦学习框架——HierFedPDP。该框架在客户端级别实现了个性化本地差分隐私（LDP），通过为不同数据敏感度分配不同的隐私预算，从而提供个性化的隐私保护。该框架还利用Adam算法对模型进行优化，以在隐私保护和模型准确度之间取得平衡。我们的测试结果表明，HierFedPDP在较高隐私预算的设置下，准确率可以达到96.16%。该框架旨在满足个性化隐私需求，同时平衡通信和计算，以提供一种安全且高效的分布式学习解决方案。</p>
<h2 id="8-未来工作"><a href="#8-未来工作" class="headerlink" title="8.未来工作"></a>8.未来工作</h2><p>在下一阶段的研究中，我们计划进一步增强HierFedPDP模型，特别是针对医疗保健领域的应用。我们的目标包括扩展在更广泛的数据集和环境中的性能和隐私测试，以支持医疗机构中安全的数据共享和分析。预计这将提高诊断的准确性，推动治疗创新，并促进公共卫生研究的发展。</p>
<p>我们还将通过引入边缘计算来减少中心服务器的负载，从而开发更智能的资源管理策略。我们的重点将包括自动调整超参数和自适应学习机制，以根据不同的数据分布和应用需求来优化系统性能。为了实现这一目标，我们计划：</p>
<p>-进行广泛测试：我们将使用大规模、多样化的数据集进行全面的实验，以评估HierFedPDP的可扩展性和稳健性。<br>-与行业合作：我们将与其他研究团队和行业进行合作，扩大我们的资源和数据多样性，从而增强我们模型的实际适用性。<br>-探索优化算法：未来的HierFedPDP版本将测试其他优化策略，包括SGD和RMSprop，以确保其在各种数据类型和架构需求下的兼容性和效率。</p>
<p>这些步骤将共同推进我们对安全高效的分布式学习系统的理解和发展，旨在大幅提升联邦学习的隐私保护和模型性能。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://SEER666.github.io">SEER</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://seer666.github.io/2024/10/30/202410301/">https://seer666.github.io/2024/10/30/202410301/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://SEER666.github.io" target="_blank">SEER's Study</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E8%AE%BA%E6%96%87/">论文</a></div><div class="post-share"><div class="social-share" data-image="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.4/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.4/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2024/10/30/202410302/" title="面向网络攻击检测与分类的联邦学习框架中的差分隐私随机森林-论文阅读"><img class="cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">面向网络攻击检测与分类的联邦学习框架中的差分隐私随机森林-论文阅读</div></div><div class="info-2"><div class="info-item-1">   window.MathJax = {     tex: {       inlineMath: [['$', '$'], ['\\(', '\\)']],         displayMath: [['$$', '$$'], ['\\[', '\\]']]       }   };     Random forest with differential privacy in federated learning framework for network attack detection and...</div></div></div></a><a class="pagination-related" href="/2024/10/30/20241030/" title="基于异构数据多隐私机制的局部差分隐私联邦学习-论文阅读"><img class="cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">基于异构数据多隐私机制的局部差分隐私联邦学习-论文阅读</div></div><div class="info-2"><div class="info-item-1">   window.MathJax = {     tex: {       inlineMath: [['$', '$'], ['\\(', '\\)']],         displayMath: [['$$', '$$'], ['\\[', '\\]']]       }   };     Local differential privacy federated learning based on heterogeneous data multi-privacy...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2024/10/15/2024.10.15/" title="2024.10.15."><img class="cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-10-15</div><div class="info-item-2">2024.10.15.</div></div><div class="info-2"><div class="info-item-1">今天的学习内容今天我继续阅读FIGRET-sigcomm2024-1(TE)V2。目前已经阅读至FIGRET部分。 1.论文关键词流量工程，广域网，数据中心网络，机器学习 2.TE模型部分2.1 概念介绍最大链路利用率MLU...</div></div></div></a><a class="pagination-related" href="/2024/10/31/202401031/" title="Fedprox在隐私保护方面的考虑"><img class="cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-10-31</div><div class="info-item-2">Fedprox在隐私保护方面的考虑</div></div><div class="info-2"><div class="info-item-1">   window.MathJax = {     tex: {       inlineMath: [['$', '$'], ['\\(', '\\)']],         displayMath: [['$$', '$$'], ['\\[', '\\]']]       }   };     Journal | [J] Electronics. Volume 12 , Issue 20 . 2023. PP 4364-  Consideration of FedProx in Privacy...</div></div></div></a><a class="pagination-related" href="/2024/10/14/2024.10.14/" title="2024.10.14."><img class="cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-10-14</div><div class="info-item-2">2024.10.14.</div></div><div class="info-2"><div class="info-item-1">今天的学习内容今天我继续阅读FIGRET-sigcomm2024-1(TE)V2。目前已经阅读至TE模型部分。 1.论文关键词流量工程，广域网，数据中心网络，机器学习 2.TE模型部分2.1 概念介绍网络拓扑（Network Topology）通过图𝐺建模的网络拓扑结构是整个流量工程优化的基础。节点表示交换机或路由器，链路表示节点之间的通信线路，链路的容量决定了流量能够通过的上限。 需求矩阵（Demand Matrix, DM）这是一个 ∣𝑉∣×∣𝑉∣的矩阵，用于表示网络中每一对源-目的节点之间的流量需求。需求矩阵帮助TE模型确定需要转发的流量规模，并为流量分配和路径选择提供依据。 最大链路利用率（MLU, Maximum Link Utilization）MLU 是优化目标中最关键的度量指标，表示网络中单条链路的最大利用率。最小化MLU可以避免网络链路的过载问题，提高网络的整体性能。 TE配置（TE...</div></div></div></a><a class="pagination-related" href="/2024/09/24/2024.9.24/" title="2024.9.24."><img class="cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-09-24</div><div class="info-item-2">2024.9.24.</div></div><div class="info-2"><div class="info-item-1">今天的学习内容今天我阅读了FIGRET-sigcomm2024-1(TE)V2。由于白天在处理计算机系统导论的实验内容，傍晚事先搭建了博客，目前只阅读了摘要部分。 1. 摘要部分流量工程 (TE) 对于提升网络性能和可靠性至关重要。TE 中的一个关键挑战是管理突发的流量激增。现有的TE方案要么无法处理流量突发，要么对所有流量突发情况采取统一防御措施，因此难以在常规场景性能和突发场景性能之间取得平衡。为了解决这一问题，我们提出了FIGRET，一种细粒度的增强鲁棒性的流量工程方案。FIGRET 提供了一种新颖的TE方法，根据不同源-目的对的流量特征，定制不同级别的鲁棒性增强。通过利用基于流量突发感知的损失函数和深度学习技术，FIGRET能够高效生成高质量的TE解决方案。我们对现实生产网络（包括广域网和数据中心）的评估显示，FIGRET 显著优于现有的 TE 方案。与谷歌 Jupiter 数据中心网络中当前部署的 TE 方案相比，FIGRET 将最大链路利用率平均减少了 9%-34%，并将解决方案生成速度提升了 35 到 1800 倍。与 DOTE（一种基于深度学习的最先进的 TE...</div></div></div></a><a class="pagination-related" href="/2024/09/25/2024.9.25/" title="2024.9.25."><img class="cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-09-25</div><div class="info-item-2">2024.9.25.</div></div><div class="info-2"><div class="info-item-1">今天的学习内容今天我继续阅读FIGRET-sigcomm2024-1(TE)V2。目前已经阅读至介绍部分。 1.论文关键词流量工程，广域网，数据中心网络，机器学习 2.介绍部分2.1 原文重现随着网络流量的指数级增长，数据中心网络和广域网（WAN）越来越依赖流量工程（TE）来优化网络性能。TE 通常通过软件定义网络（SDN）的集中控制器实现，定期解决优化问题，以有效地将流量分配到网络路径上，然后将这些解决方案转化为路由器配置。 TE 中的一个主要挑战是管理突发流量。由于中央控制器在收集流量需求、计算新的 TE 解决方案以及更新转发规则时引入的延迟，TE 系统通常需要在实际流量到达之前，基于历史数据预先计算网络配置。然而，实际网络流量本质上的动态性和不可预测性给预测带来了巨大的困难。如果对流量突发准备不足，可能导致严重的网络拥塞，引发延迟增加、数据包丢失率上升以及网络吞吐量下降。因此，增强应对意外流量突发的鲁棒性至关重要。 现有的基于流量突发的 TE...</div></div></div></a><a class="pagination-related" href="/2024/10/30/20241030/" title="基于异构数据多隐私机制的局部差分隐私联邦学习-论文阅读"><img class="cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-10-30</div><div class="info-item-2">基于异构数据多隐私机制的局部差分隐私联邦学习-论文阅读</div></div><div class="info-2"><div class="info-item-1">   window.MathJax = {     tex: {       inlineMath: [['$', '$'], ['\\(', '\\)']],         displayMath: [['$$', '$$'], ['\\[', '\\]']]       }   };     Local differential privacy federated learning based on heterogeneous data multi-privacy...</div></div></div></a></div></div><!-- 添加 Valine 评论系统的 HTML 容器--><!-- Valine 评论系统--><div id="vcomments"></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="https://avatars.githubusercontent.com/u/126209991?v=4" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">SEER</div><div class="author-info-description">Record SEER's learning content.</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">26</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">6</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/SEER666"><i class="fab fa-github"></i><span>关注我</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">我的博客已全面升级</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#HierFedPDP-Hierarchical-federated-learning-with-personalized-differential-privacy%EF%BC%88HierFedPDP%EF%BC%9A%E5%9F%BA%E4%BA%8E%E4%B8%AA%E6%80%A7%E5%8C%96%E5%B7%AE%E5%88%86%E9%9A%90%E7%A7%81%E7%9A%84%E5%88%86%E5%B1%82%E8%81%94%E9%82%A6%E5%AD%A6%E4%B9%A0%EF%BC%89"><span class="toc-number">1.</span> <span class="toc-text">HierFedPDP:Hierarchical federated learning with personalized differential privacy（HierFedPDP：基于个性化差分隐私的分层联邦学习）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%91%98%E8%A6%81"><span class="toc-number">1.1.</span> <span class="toc-text">1.摘要</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.2.</span> <span class="toc-text">2.介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E7%9B%B8%E5%85%B3%E5%B7%A5%E4%BD%9C"><span class="toc-number">1.3.</span> <span class="toc-text">3.相关工作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E8%83%8C%E6%99%AF%E5%92%8C%E5%8A%A8%E6%9C%BA"><span class="toc-number">1.4.</span> <span class="toc-text">4.背景和动机</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-%E5%88%86%E5%B1%82%E8%81%94%E9%82%A6%E5%AD%A6%E4%B9%A0%E6%A1%86%E6%9E%B6"><span class="toc-number">1.4.1.</span> <span class="toc-text">4.1 分层联邦学习框架</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-%E5%B7%AE%E5%88%86%E9%9A%90%E7%A7%81"><span class="toc-number">1.4.2.</span> <span class="toc-text">4.2 差分隐私</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-%E5%A8%81%E8%83%81%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.4.3.</span> <span class="toc-text">4.3 威胁模型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-%E5%8A%A8%E6%9C%BA"><span class="toc-number">1.4.4.</span> <span class="toc-text">4.4 动机</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E6%8F%90%E5%87%BA%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">1.5.</span> <span class="toc-text">5. 提出的方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E7%B3%BB%E7%BB%9F%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.5.1.</span> <span class="toc-text">5.1 系统模型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-%E7%AE%97%E6%B3%95%E6%8F%8F%E8%BF%B0"><span class="toc-number">1.5.2.</span> <span class="toc-text">5.2 算法描述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-1-%E6%95%B4%E4%BD%93%E8%BF%87%E7%A8%8B"><span class="toc-number">1.5.3.</span> <span class="toc-text">5.2.1 整体过程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-2-%E4%B8%AA%E6%80%A7%E5%8C%96%E6%9C%AC%E5%9C%B0%E5%B7%AE%E5%88%86%E9%9A%90%E7%A7%81%E6%9B%B4%E6%96%B0"><span class="toc-number">1.5.3.1.</span> <span class="toc-text">5.2.2 个性化本地差分隐私更新</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-3-%E9%9A%90%E7%A7%81%E5%88%86%E6%9E%90%E4%B8%8E%E7%90%86%E8%AE%BA%E8%AF%81%E6%98%8E"><span class="toc-number">1.5.4.</span> <span class="toc-text">5.2.3 隐私分析与理论证明</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E5%AE%9E%E9%AA%8C%E5%B7%A5%E4%BD%9C%E4%B8%8E%E7%BB%93%E6%9E%9C"><span class="toc-number">1.6.</span> <span class="toc-text">6.实验工作与结果</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-%E5%AE%9E%E9%AA%8C%E8%AE%BE%E7%BD%AE"><span class="toc-number">1.6.1.</span> <span class="toc-text">6.1 实验设置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#6-1-1-%E4%BB%BF%E7%9C%9F%E7%8E%AF%E5%A2%83"><span class="toc-number">1.6.1.1.</span> <span class="toc-text">6.1.1 仿真环境</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-1-2-%E6%95%B0%E6%8D%AE%E9%9B%86"><span class="toc-number">1.6.1.2.</span> <span class="toc-text">6.1.2 数据集</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-1-3-%E5%9F%BA%E7%BA%BF%E7%AE%97%E6%B3%95"><span class="toc-number">1.6.1.3.</span> <span class="toc-text">6.1.3 基线算法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-1-4-%E6%A8%A1%E5%9E%8B%E7%BB%93%E6%9E%84"><span class="toc-number">1.6.1.4.</span> <span class="toc-text">6.1.4 模型结构</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-%E7%BB%93%E6%9E%9C"><span class="toc-number">1.6.2.</span> <span class="toc-text">6.2 结果</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#6-2-1-%E4%B8%8E%E7%8E%B0%E6%9C%89%E6%96%B9%E6%B3%95%E7%9A%84%E6%AF%94%E8%BE%83"><span class="toc-number">1.6.2.1.</span> <span class="toc-text">6.2.1 与现有方法的比较</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-2-2-%E6%A8%A1%E5%9E%8B%E5%87%86%E7%A1%AE%E6%80%A7%E4%B8%8E%E9%9A%90%E7%A7%81%E9%A2%84%E7%AE%97%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-number">1.6.2.2.</span> <span class="toc-text">6.2.2 模型准确性与隐私预算的关系</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-2-3-%E8%AE%AD%E7%BB%83%E8%BD%AE%E6%AC%A1%E4%B8%8E%E8%81%9A%E5%90%88%E7%AD%96%E7%95%A5%E7%9A%84%E5%BD%B1%E5%93%8D"><span class="toc-number">1.6.2.3.</span> <span class="toc-text">6.2.3 训练轮次与聚合策略的影响</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-2-4-%E9%80%9A%E4%BF%A1%E5%BC%80%E9%94%80%E5%88%86%E6%9E%90"><span class="toc-number">1.6.2.4.</span> <span class="toc-text">6.2.4 通信开销分析</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-%E8%AE%A8%E8%AE%BA"><span class="toc-number">1.6.3.</span> <span class="toc-text">6.3 讨论</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E7%BB%93%E8%AE%BA"><span class="toc-number">1.7.</span> <span class="toc-text">7.结论</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E6%9C%AA%E6%9D%A5%E5%B7%A5%E4%BD%9C"><span class="toc-number">1.8.</span> <span class="toc-text">8.未来工作</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/12/12/20241212/" title="第2章 进程管理"><img src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="第2章 进程管理"/></a><div class="content"><a class="title" href="/2024/12/12/20241212/" title="第2章 进程管理">第2章 进程管理</a><time datetime="2024-12-12T06:30:00.000Z" title="发表于 2024-12-12 14:30:00">2024-12-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/12/10/20241210/" title="第1章 操作系统概论"><img src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="第1章 操作系统概论"/></a><div class="content"><a class="title" href="/2024/12/10/20241210/" title="第1章 操作系统概论">第1章 操作系统概论</a><time datetime="2024-12-10T06:30:00.000Z" title="发表于 2024-12-10 14:30:00">2024-12-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/11/28/20241128/" title="DC Former代码框架思路解析"><img src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="DC Former代码框架思路解析"/></a><div class="content"><a class="title" href="/2024/11/28/20241128/" title="DC Former代码框架思路解析">DC Former代码框架思路解析</a><time datetime="2024-11-28T13:30:00.000Z" title="发表于 2024-11-28 21:30:00">2024-11-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/11/24/2024112401/" title="Transformer文档阅读"><img src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Transformer文档阅读"/></a><div class="content"><a class="title" href="/2024/11/24/2024112401/" title="Transformer文档阅读">Transformer文档阅读</a><time datetime="2024-11-24T06:30:00.000Z" title="发表于 2024-11-24 14:30:00">2024-11-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/11/24/2024112402/" title="Transformer示例代码解读"><img src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Transformer示例代码解读"/></a><div class="content"><a class="title" href="/2024/11/24/2024112402/" title="Transformer示例代码解读">Transformer示例代码解读</a><time datetime="2024-11-24T06:30:00.000Z" title="发表于 2024-11-24 14:30:00">2024-11-24</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By SEER</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.1.0"></script><script src="/js/main.js?v=5.1.0"></script><div class="js-pjax"><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = `%%{init:{ 'theme':'${theme}'}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (false) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid@11.3.0/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script></div><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.4/dist/click-show-text.min.js" data-mobile="true" data-text="我,太,想,进,步,了" data-fontsize="15px" data-random="false" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="https://cdn.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js"></script><script>new Valine({
  el: '#vcomments',  // 挂载评论的 HTML 元素
  appId: 'X7VMJZiKLlND8y3EXDtaqPI5-gzGzoHsz',  // LeanCloud 的 App ID
  appKey: 'zFn5LKNiWC2vPb3y0RsW1nMK',  // LeanCloud 的 App Key
  path: window.location.pathname,  // 使用文章的路径作为评论的唯一标识
  placeholder: '留下你的评论吧...'  // 输入框的占位文本
})</script></body></html>